{"version":3,"sources":["Test.jsx"],"names":[],"mappings":"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","file":"Test.js","sourcesContent":["let React = null;\nlet Easel = window.createjs;\nlet bindValue = (value) => typeof value === \"function\" ? value : ()=>value;\nclass DisplayObject {\n    constructor(props = {}) {\n        this.children = [];\n        this.left = bindValue(props.left);\n        this.top = bindValue(props.top);\n        console.debug(props)\n    }\n\n    addChildren(children) {\n        children.forEach((child)=>this.addChild(child))\n    }\n\n    addChild(child) {\n        child.parent = this;\n        this.children.push(child.build());\n    }\n\n    build() {\n        return this;\n    }\n\n    repaint() {\n        this.children.forEach((child)=>child.repaint());\n        this.el.x = this.left() || 0;\n        this.el.y = this.top() || 0;\n    }\n\n    attach() {\n        this.el = this.createBody();\n        if (!(this instanceof  Stage)) {\n            this.parent.el.addChild(this.el);\n        }\n        this.children.forEach((child)=>child.attach());\n    }\n\n    createBody() {\n        return new Easel.Container();\n    }\n}\n\nclass Text extends DisplayObject {\n    constructor(props) {\n        super(props);\n        this.Text = bindValue(props.Text);\n    }\n\n    createBody() {\n        return new Easel.Text(\"\", \"20px Arial\", \"#ff7700\");\n    }\n\n    repaint() {\n        this.el.text = this.Text()\n    }\n}\n\nclass JustACircle extends DisplayObject {\n    createBody() {\n        return new Easel.Shape(new Easel.Graphics().beginFill(\"#999999\").drawCircle(-40, 30, 30));\n    }\n}\n\nclass Stage extends DisplayObject {\n\n    constructor(props) {\n        super(props);\n        this.fps = props.fps || 60;\n    }\n\n    createElement(elementClass, props, ...children) {\n        let instance = elementClass instanceof DisplayObject ? elementClass : new elementClass(props || {});\n        instance.addChildren(children);\n        return instance\n    }\n\n    createBody() {\n        return new Easel.Stage(this.parent.el);\n    }\n\n    attachTo(canvas) {\n        this.parent = {\n            el: canvas\n        };\n        super.attach();\n    }\n\n    repaint() {\n        super.repaint();\n        this.el.update();\n    }\n\n    run() {\n        setInterval(()=>this.repaint(), 1000 / this.fps);\n    }\n}\n\nclass BetSpotAbstract extends DisplayObject {\n    constructor(props) {\n        super(props);\n        this.Title = props.Title || \"\"\n    }\n\n    build(options) {\n        return <this><Text Text={()=>this.Title+Math.random()}/><JustACircle/></this>\n    }\n}\n\nclass LeftBetSpot extends BetSpotAbstract {\n}\n\nclass RightBetSpot extends BetSpotAbstract {\n}\n\nclass BetSpots extends Stage {\n    constructor(props) {\n        super(props);\n        this.state = {\n            width: props.width\n        };\n    }\n\n    build() {\n        let angle = 0;\n\n        return <this>\n            <LeftBetSpot\n                Title=\"Left betspot\"\n                left={()=>125 + 100 * Math.cos(angle+=.05)}\n                top={()=>125 + 100 * Math.sin(angle)}/>\n            <RightBetSpot\n                Title=\"Right betspot\"\n                left={()=>this.state.width/2}/>\n        </this>\n    }\n}\nsetTimeout(function () {\n    let canvas = document.createElement(\"canvas\");\n    canvas.width = canvas.style.width = window.innerWidth;\n    canvas.height = canvas.style.height = window.innerHeight;\n    canvas.style.position = \"absolute\";\n    canvas.style.left = 0;\n    canvas.style.right = 0;\n    document.body.appendChild(canvas);\n\n    React = new BetSpots({\n        fps: 60,\n        width: canvas.width\n    });\n    React.build();\n    React.attachTo(canvas);\n    React.run();\n});"]}